<mat-toolbar class="navbar fixed-top" color="primary">
    <div class="container px-0">
        <button mat-fab class="el-btn-menu btn-lg" color="" type="button" aria-label="Toggle sidenav"
            (click)="toggleSidenav(); menuClosed()" [class.active]=" (isOpenedSidenav$ | async)"
            [class.default]="!(isOpenedSidenav$ | async)">
            <fa-icon [icon]="faBars" class="el-icon-btn-drop-shadow faBars-icon"
                [class.active]="(isOpenedSidenav$ | async)" size="lg" transform="grow-2"
                aria-label="Side nav toggle icon">
            </fa-icon>
        </button>
        &nbsp;&nbsp;
        <a [routerLink]="['/']">
            <fa-icon [icon]="faAsymmetrik" class="el-icon-drop-shadow px-1" size="2x" style="color:aquamarine">
            </fa-icon>
        </a>
        &nbsp;&nbsp;
        <div class="logo d-none d-md-block">
            <a [routerLink]="['/']" class="brand-text logo-normal">
                {{brandNameProps}}
            </a>
        </div>
        <span class="spacer"></span>
        <div class="pull-right">
            <ng-container *ngIf="isLoggedIn$ | async">
                <button mat-raised-button [routerLink]="['/advert/new']" (click)="menuClosed()"
                    class="el-btn-nav d-none d-sm-inline-block mx-1 px-4 py-2">
                    <div class="row">
                        <fa-icon [icon]="faPencilAlt" size="lg" class="col el-icon-btn-drop-shadow px-2"
                            [fixedWidth]="true" transform="grow-6">
                        </fa-icon>
                        <div class="col d-none d-lg-block link-text px-1">
                            Создать объявление
                        </div>
                    </div>
                </button>
                <button mat-raised-button [routerLink]="['/profiles', ((currentUser$ | async)!.username)]"
                    (click)="menuClosed()" class="el-btn-nav mx-1 px-4 py-2">
                    <div class="row">
                        <fa-icon [icon]="faSmile" size="lg" class="col el-icon-btn-drop-shadow px-2" [fixedWidth]="true"
                            transform="grow-6">
                        </fa-icon>
                        <div class="col d-none d-md-block link-text px-1">
                            <img [src]="((currentUser$ | async)!.image)" class="d-block w-100" />
                            {{((currentUser$ | async)!.username)}}
                        </div>
                    </div>
                </button>
                <button mat-raised-button [matMenuTriggerFor]="menu" id="menuTrigger" class="el-btn-menu mx-1 py-2"
                    aria-label="icon-button with a menu" (click)="toggleMenu()" (menuClosed)="menuClosed()"
                    [matMenuTriggerRestoreFocus]="false" [class.active]="isOpenedMenu" [class.default]="!isOpenedMenu">
                    <fa-icon [icon]="faEllipsisV" [class.active]="isOpenedMenu" [class.default]="!isOpenedMenu"
                        size="lg" class="el-icon-btn-drop-shadow px-1" [fixedWidth]="true" transform="grow-6">
                    </fa-icon>
                </button>
                <mat-menu #menu="matMenu" xPosition="before" overlapTrigger="false" class="mat-menu">
                    <mat-divider class="m-2"></mat-divider>
                    <button mat-menu-item class="el-btn-side-nav"
                        [routerLink]="['/profile', ((currentUser$ | async)!.username)]">
                        <fa-icon [icon]="faList" size="lg" class="el-icon-side-nav px-2" [fixedWidth]="true"
                            transform="grow-2">
                        </fa-icon> <span class="px-2">Мои объявления</span>
                    </button>
                    <button mat-menu-item class="el-btn-side-nav"
                        [routerLink]="['/profile', ((currentUser$ | async)!.username), 'favorites']">
                        <fa-icon [icon]="faList" size="lg" class="el-icon-side-nav px-2" [fixedWidth]="true"
                            transform="grow-2">
                        </fa-icon> <span class="px-2">Избранные</span>
                    </button>
                    <button mat-menu-item class="el-btn-side-nav" [routerLink]="['/settings']">
                        <fa-icon [icon]="faUserCog" size="lg" class="el-icon-side-nav px-2" [fixedWidth]="true"
                            transform="grow-2">
                        </fa-icon> <span class="px-2">Настройки</span>
                    </button>
                    <mat-divider class="m-2"></mat-divider>
                    <button mat-menu-item class=" el-btn-side-nav" [routerLink]="['/']" (click)="logout()">
                        <fa-icon [icon]="faSignOutAlt" size="lg" class="el-icon-side-nav px-2" [fixedWidth]="true"
                            transform="grow-4">
                        </fa-icon> <span class="px-2">Выйти</span>
                    </button>
                </mat-menu>
            </ng-container>
            <ng-container *ngIf="isAnonymous$ | async">
                <button mat-raised-button [routerLink]="['/login']" class="el-btn-nav mx-1 px-4 py-2">
                    <div class="row">
                        <fa-icon [icon]="faSignInAlt" size="lg" class="col el-icon-btn-drop-shadow px-2"
                            [fixedWidth]="true" transform="grow-12">
                        </fa-icon>
                        <div class="col d-none d-md-block link-text px-2">
                            Войти
                        </div>
                    </div>
                </button>
                <button mat-raised-button [routerLink]="['/register']" class="el-btn-nav mx-1 px-4 py-2">
                    <div class="row">
                        <fa-icon [icon]="faUserPlus" size="lg" class="col el-icon-btn-drop-shadow px-2"
                            [fixedWidth]="true" transform="grow-6">
                        </fa-icon>
                        <div class="col d-none d-md-block link-text px-2">
                            Зарегистрироваться
                        </div>
                    </div>
                </button>
            </ng-container>
        </div>
    </div>
</mat-toolbar>